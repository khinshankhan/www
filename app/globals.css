@import "./styles/colors.css";
@import "tailwindcss";

:root,
.light {
  color-scheme: light dark;
}

.light {
  color-scheme: light;
}

.dark {
  color-scheme: dark;
}

@theme {
  --breakpoint-xss: 20rem; /* 320px */
  --breakpoint-xs: 24.5rem; /* 392px */
  --breakpoint-sm: 40rem; /* 640px */
  --breakpoint-md: 48rem; /* 768px -- this is the boundary between mobile vs desktop */
  --breakpoint-lg: 64rem; /* 1024px */
  --breakpoint-xl: 82.8125rem; /* 1325px */
  --breakpoint-2xl: 96rem; /* 1536px */

  /* this lets tailwind reference the variable */
  --color-*: initial;

  --color-transparent: rgb(0 0 0 / 0);

  --color-background: var(--gray-1);
  --color-foreground: var(--gray-12);

  --color-muted-foreground: var(--gray-a11);

  --color-accent-1: var(--custom-1);
  --color-accent-2: var(--custom-2);
  --color-accent-3: var(--custom-3);
  --color-accent-4: var(--custom-4);
  --color-accent-5: var(--custom-5);
  --color-accent-6: var(--custom-6);
  --color-accent-7: var(--custom-7);
  --color-accent-8: var(--custom-8);
  --color-accent-9: var(--custom-9);
  --color-accent-10: var(--custom-10);
  --color-accent-11: var(--custom-11);
  --color-accent-12: var(--custom-12);

  --color-accent-a1: var(--custom-a1);
  --color-accent-a2: var(--custom-a2);
  --color-accent-a3: var(--custom-a3);
  --color-accent-a4: var(--custom-a4);
  --color-accent-a5: var(--custom-a5);
  --color-accent-a6: var(--custom-a6);
  --color-accent-a7: var(--custom-a7);
  --color-accent-a8: var(--custom-a8);
  --color-accent-a9: var(--custom-a9);
  --color-accent-a10: var(--custom-a10);
  --color-accent-a11: var(--custom-a11);
  --color-accent-a12: var(--custom-a12);

  --accent-contrast: var(--custom-contrast);
  --accent-surface: var(--custom-surface);
  --accent-indicator: var(--custom-indicator);
  --accent-track: var(--custom-track);
}

.default-theme {
  --color-accent-1: var(--custom-1);
  --color-accent-2: var(--custom-2);
  --color-accent-3: var(--custom-3);
  --color-accent-4: var(--custom-4);
  --color-accent-5: var(--custom-5);
  --color-accent-6: var(--custom-6);
  --color-accent-7: var(--custom-7);
  --color-accent-8: var(--custom-8);
  --color-accent-9: var(--custom-9);
  --color-accent-10: var(--custom-10);
  --color-accent-11: var(--custom-11);
  --color-accent-12: var(--custom-12);

  --color-accent-a1: var(--custom-a1);
  --color-accent-a2: var(--custom-a2);
  --color-accent-a3: var(--custom-a3);
  --color-accent-a4: var(--custom-a4);
  --color-accent-a5: var(--custom-a5);
  --color-accent-a6: var(--custom-a6);
  --color-accent-a7: var(--custom-a7);
  --color-accent-a8: var(--custom-a8);
  --color-accent-a9: var(--custom-a9);
  --color-accent-a10: var(--custom-a10);
  --color-accent-a11: var(--custom-a11);
  --color-accent-a12: var(--custom-a12);

  --accent-contrast: var(--custom-contrast);
  --accent-surface: var(--custom-surface);
  --accent-indicator: var(--custom-indicator);
  --accent-track: var(--custom-track);
}

.cyan-theme,
.info-theme {
  --color-accent-1: var(--cyan-1);
  --color-accent-2: var(--cyan-2);
  --color-accent-3: var(--cyan-3);
  --color-accent-4: var(--cyan-4);
  --color-accent-5: var(--cyan-5);
  --color-accent-6: var(--cyan-6);
  --color-accent-7: var(--cyan-7);
  --color-accent-8: var(--cyan-8);
  --color-accent-9: var(--cyan-9);
  --color-accent-10: var(--cyan-10);
  --color-accent-11: var(--cyan-11);
  --color-accent-12: var(--cyan-12);

  --color-accent-a1: var(--cyan-a1);
  --color-accent-a2: var(--cyan-a2);
  --color-accent-a3: var(--cyan-a3);
  --color-accent-a4: var(--cyan-a4);
  --color-accent-a5: var(--cyan-a5);
  --color-accent-a6: var(--cyan-a6);
  --color-accent-a7: var(--cyan-a7);
  --color-accent-a8: var(--cyan-a8);
  --color-accent-a9: var(--cyan-a9);
  --color-accent-a10: var(--cyan-a10);
  --color-accent-a11: var(--cyan-a11);
  --color-accent-a12: var(--cyan-a12);

  --accent-contrast: var(--cyan-contrast);
  --accent-surface: var(--cyan-surface);
  --accent-indicator: var(--cyan-indicator);
  --accent-track: var(--cyan-track);
}

.green-theme,
.success-theme {
  --color-accent-1: var(--green-1);
  --color-accent-2: var(--green-2);
  --color-accent-3: var(--green-3);
  --color-accent-4: var(--green-4);
  --color-accent-5: var(--green-5);
  --color-accent-6: var(--green-6);
  --color-accent-7: var(--green-7);
  --color-accent-8: var(--green-8);
  --color-accent-9: var(--green-9);
  --color-accent-10: var(--green-10);
  --color-accent-11: var(--green-11);
  --color-accent-12: var(--green-12);

  --color-accent-a1: var(--green-a1);
  --color-accent-a2: var(--green-a2);
  --color-accent-a3: var(--green-a3);
  --color-accent-a4: var(--green-a4);
  --color-accent-a5: var(--green-a5);
  --color-accent-a6: var(--green-a6);
  --color-accent-a7: var(--green-a7);
  --color-accent-a8: var(--green-a8);
  --color-accent-a9: var(--green-a9);
  --color-accent-a10: var(--green-a10);
  --color-accent-a11: var(--green-a11);
  --color-accent-a12: var(--green-a12);

  --accent-contrast: var(--green-contrast);
  --accent-surface: var(--green-surface);
  --accent-indicator: var(--green-indicator);
  --accent-track: var(--green-track);
}

.violet-theme,
.critical-theme {
  --color-accent-1: var(--violet-1);
  --color-accent-2: var(--violet-2);
  --color-accent-3: var(--violet-3);
  --color-accent-4: var(--violet-4);
  --color-accent-5: var(--violet-5);
  --color-accent-6: var(--violet-6);
  --color-accent-7: var(--violet-7);
  --color-accent-8: var(--violet-8);
  --color-accent-9: var(--violet-9);
  --color-accent-10: var(--violet-10);
  --color-accent-11: var(--violet-11);
  --color-accent-12: var(--violet-12);

  --color-accent-a1: var(--violet-a1);
  --color-accent-a2: var(--violet-a2);
  --color-accent-a3: var(--violet-a3);
  --color-accent-a4: var(--violet-a4);
  --color-accent-a5: var(--violet-a5);
  --color-accent-a6: var(--violet-a6);
  --color-accent-a7: var(--violet-a7);
  --color-accent-a8: var(--violet-a8);
  --color-accent-a9: var(--violet-a9);
  --color-accent-a10: var(--violet-a10);
  --color-accent-a11: var(--violet-a11);
  --color-accent-a12: var(--violet-a12);

  --accent-contrast: var(--violet-contrast);
  --accent-surface: var(--violet-surface);
  --accent-indicator: var(--violet-indicator);
  --accent-track: var(--violet-track);
}

.amber-theme,
.warning-theme {
  --color-accent-1: var(--amber-1);
  --color-accent-2: var(--amber-2);
  --color-accent-3: var(--amber-3);
  --color-accent-4: var(--amber-4);
  --color-accent-5: var(--amber-5);
  --color-accent-6: var(--amber-6);
  --color-accent-7: var(--amber-7);
  --color-accent-8: var(--amber-8);
  --color-accent-9: var(--amber-9);
  --color-accent-10: var(--amber-10);
  --color-accent-11: var(--amber-11);
  --color-accent-12: var(--amber-12);

  --color-accent-a1: var(--amber-a1);
  --color-accent-a2: var(--amber-a2);
  --color-accent-a3: var(--amber-a3);
  --color-accent-a4: var(--amber-a4);
  --color-accent-a5: var(--amber-a5);
  --color-accent-a6: var(--amber-a6);
  --color-accent-a7: var(--amber-a7);
  --color-accent-a8: var(--amber-a8);
  --color-accent-a9: var(--amber-a9);
  --color-accent-a10: var(--amber-a10);
  --color-accent-a11: var(--amber-a11);
  --color-accent-a12: var(--amber-a12);

  --accent-contrast: var(--amber-contrast);
  --accent-surface: var(--amber-surface);
  --accent-indicator: var(--amber-indicator);
  --accent-track: var(--amber-track);
}

.red-theme,
.danger-theme {
  --color-accent-1: var(--red-1);
  --color-accent-2: var(--red-2);
  --color-accent-3: var(--red-3);
  --color-accent-4: var(--red-4);
  --color-accent-5: var(--red-5);
  --color-accent-6: var(--red-6);
  --color-accent-7: var(--red-7);
  --color-accent-8: var(--red-8);
  --color-accent-9: var(--red-9);
  --color-accent-10: var(--red-10);
  --color-accent-11: var(--red-11);
  --color-accent-12: var(--red-12);

  --color-accent-a1: var(--red-a1);
  --color-accent-a2: var(--red-a2);
  --color-accent-a3: var(--red-a3);
  --color-accent-a4: var(--red-a4);
  --color-accent-a5: var(--red-a5);
  --color-accent-a6: var(--red-a6);
  --color-accent-a7: var(--red-a7);
  --color-accent-a8: var(--red-a8);
  --color-accent-a9: var(--red-a9);
  --color-accent-a10: var(--red-a10);
  --color-accent-a11: var(--red-a11);
  --color-accent-a12: var(--red-a12);

  --accent-contrast: var(--red-contrast);
  --accent-surface: var(--red-surface);
  --accent-indicator: var(--red-indicator);
  --accent-track: var(--red-track);
}

/* Because Chrome is buggy with box-shadow transitions from "transparent" keyword and/or RGB color into P3 colors. */
/* Note: using `:where` here to guarantee that the P3 color will take over regardless of the output rule order. */
:where(body) {
  --color-transparent: rgb(0 0 0 / 0);
}
@supports (color: color(display-p3 1 1 1)) {
  @media (color-gamut: p3) {
    body {
      --color-transparent: color(display-p3 0 0 0 / 0);
    }
  }
}

/**
 * CSS variables can't be used outside of property values so media queries can't use breakpoints variables directly.
 * Reference: https://stackoverflow.com/questions/40722882/css-native-variables-not-working-in-media-queries
 *
 * Tailwind v4 doesn't yet support media query-related directives like `screen` (yet?). Therefore, we need to write out
 * the breakpoints explicitly and ensure they match Tailwind's configuration.
 *
 * Philosophy on show/hide: While "visible" has many possible states (block, inline-block, flex, grid), hiding content
 * (`display: none`) only has one state. To keep things simple, we'll use `display: none` for hiding and leave the code
 * to handle the specific visible state when showing (use a specific visible display property can mess with intended
 * experience). This assumption works for now but may need rethinking as the project evolves.
 *
 * Managing `!important`: It's hard to override one `!important` with another. Currently, we're handling this case by
 * applying print utility classes for specific print styles, but a case-by-case approach might be needed moving forward.
 */
@media not print {
  @media (min-width: 48rem) {
    .show-mobile {
      /* force hidden when not mobile */
      display: none !important;
    }
  }

  @media not all and (min-width: 48rem) {
    /* force hidden when mobile */
    .hide-mobile {
      display: none !important;
    }
  }
}

/**
 * Similar logic as to above, let the code define visible state, the utility class can only reliably define hidden
 * without accidentally changing an expected display.
 */
@media print {
  .hide-print {
    display: none !important;
  }
}
